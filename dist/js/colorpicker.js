/*! Colorpicker v1.2.0 | (c) Philipp KÃ¶nig under Apache-2.0 | https://blockbyte.de */
window.Colorpicker=(()=>{"use strict";function t(){this.r=0,this.g=0,this.b=0,this.a=1,this.hue=0,this.saturation=0,this.value=0;const t=t=>"number"==typeof t&&!1===isNaN(t),e=(e,i,s,a)=>{t(e)&&t(i)&&t(s)&&(this.r=Math.max(0,Math.min(255,Math.trunc(e))),this.g=Math.max(0,Math.min(255,Math.trunc(i))),this.b=Math.max(0,Math.min(255,Math.trunc(s))),!0===t(a)&&(this.a=Math.max(0,Math.min(1,a))))},i=t=>{/(^#{0,1}[0-9A-F]{6}$)|(^#{0,1}[0-9A-F]{3}$)/i.test(t)&&("#"===t[0]&&(t=t.slice(1,t.length)),3===t.length&&(t=t.replace(/([0-9A-F])([0-9A-F])([0-9A-F])/i,"$1$1$2$2$3$3")),this.r=parseInt(t.substr(0,2),16),this.g=parseInt(t.substr(2,2),16),this.b=parseInt(t.substr(4,2),16),this.a=1,a())},s=()=>{const t=this.saturation/100,i=this.value/100;let s=t*i;const a=this.hue/60;let o=s*(1-Math.abs(a%2-1)),h=i-s;s=Math.trunc(255*(s+h)),o=Math.trunc(255*(o+h)),h=Math.trunc(255*h),a>=0&&a<1?e(s,o,h):a>=1&&a<2?e(o,s,h):a>=2&&a<3?e(h,s,o):a>=3&&a<4?e(h,o,s):a>=4&&a<5?e(o,h,s):a>=5&&a<6&&e(s,h,o)},a=()=>{const t=this.r/255,e=this.g/255,i=this.b/255,s=Math.max(t,e,i),a=s-Math.min(t,e,i);let o=0,h=0;a&&(s===t&&(o=(e-i)/a),s===e&&(o=2+(i-t)/a),s===i&&(o=4+(t-e)/a),s&&(h=a/s)),this.hue=Math.trunc(60*o),this.hue<0&&(this.hue+=360),this.saturation=Math.trunc(100*h),this.value=Math.trunc(100*s)};this.setFromRaw=(t=>{"transparent"===(t=t.trim())?(this.r=0,this.g=0,this.b=0,this.a=0,a()):/(^#{0,1}[0-9A-F]{6}$)|(^#{0,1}[0-9A-F]{3}$)/i.test(t)?i(t):/^rgba?\([^)]+\)$/i.test(t)&&(t=>{const i=t.match(/(\d*\.\d*|\d+)/g);3===i.length&&i.push(1),4===i.length&&(e(...i.map(t=>+t)),a())})(t)}),this.setByName=((e,i)=>{if(("r"===e||"g"===e||"b"===e||"a"===e)&&t(i)){let t=1;"a"!==e&&(i=Math.trunc(i),t=255),this[e]=Math.max(0,Math.min(t,i)),a()}}),this.setHSV=((e,i,a)=>{t(e)&&t(i)&&t(a)&&(this.hue=Math.max(0,Math.min(360,e)),this.saturation=Math.max(0,Math.min(100,i)),this.value=Math.max(0,Math.min(100,a)),s())}),this.setHue=(e=>{t(e)&&(this.hue=Math.max(0,Math.min(360,e)),s())}),this.getHex=(()=>{let t=this.r.toString(16),e=this.g.toString(16),i=this.b.toString(16);return this.r<16&&(t="0"+t),this.g<16&&(e="0"+e),this.b<16&&(i="0"+i),("#"+t+e+i).toLowerCase()}),this.getColor=(()=>{if(1===Math.trunc(this.a))return this.getHex();const t="("+this.r+","+this.g+","+this.b;let e="",i="";const s=parseFloat(this.a);return 1!==s&&(e="a",i=","+s),"rgb"+e+t+i+")"})}return function(e,i){i=i||{};let s=null,a=null,o=null;const h=[],n={};this.color=new t;const r=(t,e)=>{t.addEventListener("mousedown",t=>{e(t),document.addEventListener("mousemove",e)}),document.addEventListener("mouseup",()=>{document.removeEventListener("mousemove",e)})},c=()=>{(s=document.createElement("div")).className="color-picker",document.body.appendChild(s),(a=document.createElement("span")).className="color-preview",e.parentNode.insertBefore(a,e.nextSibling),e.ownerDocument.defaultView.addEventListener("resize",()=>{this.reposition()}),a.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),this.show()}),document.addEventListener("click",t=>{t.target===s||s.contains(t.target)||this.close()})},l=()=>{const t=document.createElement("div"),e=document.createElement("div");t.className="picking-area",e.className="picker",this.pickingArea=t,this.colorPicker=e,r(t,t=>{const e=this.pickingArea.getBoundingClientRect(),i=this.pickingArea.clientWidth,s=[t.pageX-e.left,t.pageY-e.top];s.forEach((t,e)=>{t>i&&(t=i),t<0&&(t=0),s[e]=t});const a=Math.trunc(100*s[0]/i),o=100-Math.trunc(100*s[1]/i);this.color.setHSV(this.color.hue,a,o),this.colorPicker.style.left=s[0]-5+"px",this.colorPicker.style.top=s[1]-5+"px",b(),k(),C()}),t.appendChild(e),s.appendChild(t)},u=()=>{const t=document.createElement("div"),e=document.createElement("div");t.className="hue",e.className="slider-picker",this.hueArea=t,this.huePicker=e,r(t,t=>{const e=this.hueArea.getBoundingClientRect();let i=Math.max(0,t.pageX-e.left);const s=this.hueArea.clientWidth;i>s&&(i=s),this.huePicker.style.left=Math.max(i-3,-2)+"px",this.color.setHue(Math.trunc(359*i/s)),p()}),t.appendChild(e),s.appendChild(t)},d=()=>{const t=document.createElement("div"),e=document.createElement("div"),i=document.createElement("div");t.className="alpha",e.className="alpha-mask",i.className="slider-picker",o={area:t,mask:e,picker:i},r(t,t=>{const e=o.area.getBoundingClientRect();let i=t.pageX-e.left;const s=o.area.clientWidth;i<0&&(i=0),i>s&&(i=s),this.color.setByName("a",+(i/s).toFixed(2)),o.picker.style.left=Math.max(i-3,-2)+"px",k(),C()}),t.appendChild(e),e.appendChild(i),s.appendChild(t)},m=(t,e)=>{const i=document.createElement("div"),a=document.createElement("input"),o=document.createElement("span");i.className="input-"+t,o.textContent=t,a.setAttribute("type","text"),i.appendChild(o),i.appendChild(a),s.appendChild(i),a.addEventListener("change",e),h[t]=(t=>{a.value=t})},p=()=>{C(),v(),f(),g(),M(),b(),k()},g=()=>{const t=this.pickingArea.clientWidth,e=this.color.value,i=Math.trunc(this.color.saturation*t/100),s=t-Math.trunc(e*t/100);this.colorPicker.style.left=i-5+"px",this.colorPicker.style.top=s-5+"px"},v=()=>{const t=this.hueArea.clientWidth,e=Math.trunc(this.color.hue*t/360);this.huePicker.style.left=e-1+"px"},M=()=>{if(o){const t=o.area.clientWidth,e=1,i=Math.trunc(this.color.a*t);o.picker.style.left=i-e+"px"}},f=()=>{const e=new t;e.setHSV(this.color.hue,100,100),this.pickingArea.style.backgroundColor=e.getHex()},b=()=>{o&&(o.mask.style.background="linear-gradient(to right, transparent 0%,"+this.color.getHex()+" 100%)")},k=()=>{e.value=this.color.getColor(),a.style.backgroundColor=this.color.getColor(),x("change")},x=t=>{void 0!==n[t]&&n[t].forEach(t=>{t({color:this.color.getColor(),colorObj:this.color,elm:this.getElements()})})},C=()=>{E("r",this.color.r),E("g",this.color.g),E("b",this.color.b),E("a",this.color.a),E("color",this.color.getColor())},E=(t,e)=>{h[t]&&h[t](e)};this.setColor=(t=>{this.color.setFromRaw(t),p()}),this.getColorObj=(()=>this.color),this.getElements=(()=>({wrapper:s,preview:a,field:e})),this.reposition=(()=>{if(s.classList.contains("visible")){const t="rtl"===document.documentElement.getAttribute("dir"),e=a.getBoundingClientRect(),i={l:e.left,r:e.left-s.offsetWidth+a.offsetWidth},o=["bottom",t?"right":"left"];let h=e.top+a.offsetHeight,n=i[t?"r":"l"];s.offsetHeight+h>window.innerHeight&&(h=e.top-s.offsetHeight,o[0]="top"),s.offsetWidth+n>window.innerWidth&&(n=i.r,o[1]="right"),n<0&&(n=i.l,o[1]="left"),s.setAttribute("data-pos",o.join("-")),s.style.top=h+"px",s.style.left=n+"px"}}),this.show=(()=>{[].forEach.call(document.getElementsByClassName("color-picker"),t=>{t.classList.remove("visible")}),s.classList.add("visible"),this.reposition(),x("show"),p()}),this.close=(()=>{s.classList.contains("visible")&&(x("hide"),s.classList.remove("visible"))}),this.on=((t,e)=>{void 0===n[t]&&(n[t]=[]),n[t].push(e)}),(()=>{c(),l(),u();const t=["r","g","b"];i.alpha&&(d(),t.push("a")),t.forEach(t=>{m(t,e=>{let i=e.target.value;i="a"===t?+i.replace(/,/g,"."):parseInt(i),this.color.setByName(t,i),e.target.value=this.color[t],p()})}),m("color",t=>{const e=t.target.value;this.color.setFromRaw(e),p()}),p()})()}})();